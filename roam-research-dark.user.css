/* ==UserStyle==
@name         Roam Research Dark
@namespace    vandermerwed
@version      1.0.10
@homepageURL  https://github.com/vandermerwed/Roam-Research-Dark
@updateURL    https://raw.githubusercontent.com/vandermerwed/Roam-Research-Dark/master/roam-research-dark.user.css
@license      CC-BY-SA-4.0
@author       vandermerwed
@preprocessor stylus

@advanced   select  font-heading-1    "H1 Font" {
    "Georgia": "Georgia, serif",
    "Palatino Linotype (Book Antiqua)": "'Palatino Linotype', 'Book Antiqua', Palatino, serif",
    "Times New Roman (Times)": "'Times New Roman', Times, serif, serif",

    "Arial (Helvetica)": "Arial, Helvetica, sans-serif",
    "Arial Black (Gadget)": "'Arial Black', Gadget, sans-serif",
    "Impact (Charcoal)": "Impact, Charcoal, sans-serif",
    "Inter": "Inter, sans-serif",
    "Lucida": "'Lucida Sans Unicode', 'Lucida Grande', sans-serif",
    "Tahoma (Geneva)": "Tahoma, Geneva, sans-serif",
    "Trebuchet MS (Helvetica)": "'Trebuchet MS', Helvetica, sans-serif",
    "Verdana (Geneva)": "Verdana, Geneva, sans-serif",

    "Courier": "'Courier New', Courier, monospace",
    "Lucida Console (Monaco)": "'Lucida Console', Monaco, monospace",
    "Menlo*": "Menlo, monospace"
}
@advanced   select  font-heading-2    "H2 Font" {
    "Georgia": "Georgia, serif",
    "Palatino Linotype (Book Antiqua)": "'Palatino Linotype', 'Book Antiqua', Palatino, serif",
    "Times New Roman (Times)": "'Times New Roman', Times, serif, serif",

    "Arial (Helvetica)": "Arial, Helvetica, sans-serif",
    "Arial Black (Gadget)": "'Arial Black', Gadget, sans-serif",
    "Impact (Charcoal)": "Impact, Charcoal, sans-serif",
    "Inter": "Inter, sans-serif",
    "Lucida": "'Lucida Sans Unicode', 'Lucida Grande', sans-serif",
    "Tahoma (Geneva)": "Tahoma, Geneva, sans-serif",
    "Trebuchet MS (Helvetica)": "'Trebuchet MS', Helvetica, sans-serif",
    "Verdana (Geneva)": "Verdana, Geneva, sans-serif",

    "Courier": "'Courier New', Courier, monospace",
    "Lucida Console (Monaco)": "'Lucida Console', Monaco, monospace",
    "Menlo*": "Menlo, monospace"
}
@advanced   select  font-heading-3    "H3 Font" {
    "Georgia": "Georgia, serif",
    "Palatino Linotype (Book Antiqua)": "'Palatino Linotype', 'Book Antiqua', Palatino, serif",
    "Times New Roman (Times)": "'Times New Roman', Times, serif, serif",

    "Arial (Helvetica)": "Arial, Helvetica, sans-serif",
    "Arial Black (Gadget)": "'Arial Black', Gadget, sans-serif",
    "Impact (Charcoal)": "Impact, Charcoal, sans-serif",
    "Inter": "Inter, sans-serif",
    "Lucida": "'Lucida Sans Unicode', 'Lucida Grande', sans-serif",
    "Tahoma (Geneva)": "Tahoma, Geneva, sans-serif",
    "Trebuchet MS (Helvetica)": "'Trebuchet MS', Helvetica, sans-serif",
    "Verdana (Geneva)": "Verdana, Geneva, sans-serif",

    "Courier": "'Courier New', Courier, monospace",
    "Lucida Console (Monaco)": "'Lucida Console', Monaco, monospace",
    "Menlo*": "Menlo, monospace"
}
@advanced   select  font-body    "Body Font" {
    "Georgia": "Georgia, serif",
    "Palatino Linotype (Book Antiqua)": "'Palatino Linotype', 'Book Antiqua', Palatino, serif",
    "Times New Roman (Times)": "'Times New Roman', Times, serif, serif",

    "Arial (Helvetica)*": "Arial, Helvetica, sans-serif",
    "Arial Black (Gadget)": "'Arial Black', Gadget, sans-serif",
    "Impact (Charcoal)": "Impact, Charcoal, sans-serif",
    "Inter": "Inter, sans-serif",
    "Lucida": "'Lucida Sans Unicode', 'Lucida Grande', sans-serif",
    "Tahoma (Geneva)": "Tahoma, Geneva, sans-serif",
    "Trebuchet MS (Helvetica)": "'Trebuchet MS', Helvetica, sans-serif",
    "Verdana (Geneva)": "Verdana, Geneva, sans-serif",

    "Courier": "'Courier New', Courier, monospace",
    "Lucida Console (Monaco)": "'Lucida Console', Monaco, monospace",
    "Menlo": "Menlo, monospace"
}
@advanced   checkbox  hide-shortcuts            "Hide shortcuts heading"        1
@advanced   checkbox  using-unset-overflow      "Show more text in link search" 0
@advanced   checkbox  using-wide-layout         "Use wide layout"               0
@advanced   checkbox  using-clickup             "Using embedded in ClickUp?"    0
@advanced   checkbox  using-breathing           "Use breathing exercise loader" 0
@advanced   color     color-breathing-from      "Breathing Colour 1"            #1F7A8C
@advanced   color     color-breathing-to        "Breathing Colour 2"            #BFDBF7
@advanced   color     color-heading-2           "H2 Colour"                     #b9b9b9
@advanced   color     color-heading-1           "H1 Colour"                     #e1e1e1
@advanced   color     color-heading-2           "H2 Colour"                     #b9b9b9
@advanced   color     color-heading-3           "H3 Colour"                     #808080
@advanced   select    color-theme       "Theme" {
    "#TeamOrange": "255, 152, 0",
    "#TeamBlue": "51, 122, 183",
    "Sunshade": "255, 161, 47",
    "Orange": "255, 87, 34",
    "Pomegranate": "244, 44, 44",
    "Radical Red": "248, 48, 109",
    "Magenta": "255, 0, 252",
    "Royal Blue": "65, 105, 225",
    "Cornflower Blue": "95, 129, 255",
    "Dodger Blue": "10, 180, 255",
    "Bright Turquoise": "8, 199, 224",
    "Niagara": "7, 160, 146",
    "Mountain Meadow": "29, 185, 84",
    "Forest Green": "46, 165, 44",
    "Jumbo": "117, 115, 128"
}
@advanced   checkbox  using-theme               "Use theme"                     1
@advanced   color     color-link                "Link Colour"                   #0ab4ff
@advanced   color     color-link-namespace      "Namespaced Link Colour"        rgb(8, 199, 224)
@advanced   color     color-tag-text            "Tag Text Colour"               #69e3ff
@advanced   color     color-tag-bg              "Tag Background Colour"         #263139
@advanced   color     color-highlight-text      "Highlight Text Colour"         #FFFFFF
@advanced   color     color-highlight-bg        "Highlight Background Colour"   #69e3ff
@advanced   color     color-highlight-select    "Select Highlight Colour"       #0ab4ff33
==/UserStyle== */
/*! Roam Research Dark v0.0.1 (2020-13-17) */
/*! Repository: https://github.com/vandermerwed/Roam-Research-Dark    */
/*! License:    https://creativecommons.org/licenses/by-sa/4.0/ */

@-moz-document url-prefix("https://roamresearch.com/#/app"), url-prefix("https://roamresearch.com/#/v8"), url-prefix("https://app.clickup.com/") {
    /* ### ASTROBLADE ### */
    
    if using-breathing {

        /* Breathing Loader */
        /* https://codepen.io/Mathi_C/pen/mMWaaW */
        .loading-astrolabe {
            height: 100px;
            width: 100px;
            border-radius: 200px;
            margin: auto;
            margin-top: 200px;
        }

        .loading-astrolabe {
            animation-name: orb_1;
            animation-duration: 5s;
            animation-delay: 0s;
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
            animation-direction: alternate;
        }

        @keyframes orb_1 {
            from { transform: scale(1); background: color-breathing-from;}
            to { transform: scale(3); background: color-breathing-to;}
        }

        /* Hide original loader */
        .loading-astrolabe img {
            display: none;
        }
    } else {
        /* fade loading astrolabe */
        .loading-astrolabe img {
            opacity: 0.3;
            filter: invert(100%);
        }
    }
        
    /* ### GLOBAL ###*/
    /* change body font */
    body,
    html,
    div,
    textarea {
        font-family: font-body;
    }
    
    /* change font for headings */
    #right-sidebar .rm-level2,
    /* page headings in right sidebar */
    .rm-reference-main .rm-level3,
    /* page headings in referenced items */
    .roam-log-preview h1,
    h1.rm-title-display,
    h1.rm-title-display textarea,
    .level1,
    .level2 {
        font-family: font-heading-1;
        font-weight: 300 !important;
        letter-spacing: -0.08em;
        color: #d5d6d7 !important;
    }
    
    h1,
    h1 div,
    h1 textarea,
    .rm-level1 textarea,
    .rm-level1 div {
        font-family: font-heading-1;
        font-weight: 600 !important;
        color: color-heading-1 !important;
    }
    
    h2,
    h2 div,
    h2 textarea {
        font-family: font-heading-2;
        font-weight: 600 !important;
        color: color-heading-2 !important;
    }
    
    h3,
    h3 div,
    h3 textarea {
        font-family: font-heading-3;
        font-weight: 600 !important;
        color: color-heading-3 !important;
    }
    
    /* ### UI Changes ###*/
    /* less space below page heading */
    .roam-body .roam-app .roam-main .roam-article .rm-title-display {
        margin-bottom: 10px;
    }
    
    /* wide content layout */
    if using-wide-layout {
                
        /*#right-sidebar div:only-child {
            ^[0] {
                flex-basis: 50% !important;
            }
        }*/
        
        .roam-center div:first-child {
            padding-right: calc((100% - 1000px) / 2) !important;
        }
        
        .roam-block-container {
            max-width: calc(1000px - 80px);
        }

        .roam-center .roam-article .rm-block-text {
            max-width: 1000px;
        }
        
        @media (orientation: portrait) {
            .roam-center div:first-child {
                padding-right: calc((100% - 730px) / 2) !important;
            }

            .roam-center .roam-article .rm-block-text {
                max-width: 665px;
            }

        }
    }
    
    /* ### RIGHT SIDE BAR ### */
    #right-sidebar {
        background-color: rgb(43, 52, 59) !important;
    }
    
    /* ### LEFT SIDE BAR ### */

    /* update menu item hover colour*/
    .roam-body .roam-app .roam-sidebar-container .roam-sidebar-content {
        .log-button {
            &:hover {
                background-color: #1e272e !important;
            }
        }

        .starred-pages-wrapper .starred-pages .page {
            &:hover {
                background-color: #1e272e !important;
            }
        }
    }

    /* more subtle logo */
    #roam-sidebar-logo img {
        opacity: 0.4;
    }

    #roam-sidebar-logo span {
        display: none;
    }

    /* Hide "SHORTCUTS" heading */
    .starred-pages-wrapper {
        .flex-h-box  {
            if hide-shortcuts {
                display: none;
            }
        }
        & > div:first-child {
            margin: 0 -18px;
        }
    }
    
    /* ### All Pages View ### */
    .rm-pages-row {
        background-color: #1e272e !important;
        border-bottom: 1px solid #2F3336 !important;
    }
    .rm-pages-title-col > .bp3-text-overflow-ellipsis > a {
        color: #d5d6d7 !important;
    }
    .rm-pages-title-col > .bp3-text-overflow-ellipsis > span {
        color: #abaeb0 !important;
    }
    
    /* ### EDITOR ### */

    /* Tone tweets down a tad */
    .twitter-tweet.twitter-tweet-rendered {
        transition: opacity .25s ease-in-out;
        opacity: 0.7;
        &:hover{
            opacity: 0.85;   
        }
    }

    /* Fix vertical line on left of bullets */
    .roam-block-container {
        border-radius: 0px;
    }
    
    /* tone down color of lines between bullets */
    .block-border-left {
        border-left: 1px solid rgba(255, 255, 255, 0.25);
    }

    .roam-body-main,
    body {
        background-color: #1e272e;
    }
    .roam-topbar {
        background-color: #1e272e;
    }
    .roam-sidebar-container {
        background-color: #2b343b !important;
        background-color: rgb(43, 52, 59) !important;
    }
    .roam-body .roam-app {
        color: #d5d6d7;
        /* color: rgba(255, 255, 255, .60); */
    }
    .rm-reference-item {
        background-color: #121212;
        background-color: rgba(43, 52, 59, .9);
    }
    .rm-title-display {
        color: #FFFFFF;
        color: rgba(255, 255, 255, .87);
    }
    .roam-body .roam-app .roam-sidebar-container .roam-sidebar-content .log-button {
        color: #d5d6d7;
        font-size: 12.5px;
        line-height: 1;
        text-transform: initial;
        /* This could be a lowercase toggle */
    }
    .starred-pages-wrapper > .flex-h-box span {
        color: #d5d6d7;
        font-size: 12.5px !important;
        font-weight: bold;
        margin-bottom: 8px;
    }
    .roam-body .roam-app .roam-sidebar-container .roam-sidebar-content .starred-pages-wrapper .starred-pages .page {
        text-decoration: none;
        cursor: pointer;
        font-size: 12.5px;
        padding: 8px 0px 8px 4px;
        color: #abaeb0;
    }
    
    /* add some more margin below linked references*/
    .roam-article .rm-reference-main .rm-reference-container {
        margin-bottom: 20px;
    }
    
    .check-container input:checked ~ .checkmark {
        if using-theme {
            background-color: rgba(color-theme, 1.0);
        } else {
            background-color: color-link;
        }
    }
    
    .rm-page-ref-link-color,
    a {
        /* Page Reference Link Colour */
        if using-theme {
            color: rgba(color-theme, 1.0);
        } else {
            color: color-link;
        }
    }
    a:focus,
    a:hover {
        if using-theme {
            color: rgba(color-theme, 0.7);
        } else {
            color: color-link;
            opacity: 0.7;
        }
    }
    .rm-page-ref-namespace-color {
        if using-theme {
            color: rgba(color-theme, 1);
        } else {
            color: color-link-namespace;
        }
    }
    .rm-page-ref-tag {
        border-radius: 3px;
        padding: 2px 3px 2px 3px;
        if using-theme {
            background-color: rgba(color-theme, 0.1);
            color: rgba(color-theme, 1.0);
        } else {
            background-color: color-tag-bg;
            color: color-tag-text;
        }
    }
    
    /* Highlights */
    .block-highlight-blue {
        if using-theme {
            background-color: rgba(color-theme, 0.2);
            /*color: rgba(color-theme, 1.0);*/
        } else {
            background-color: color-highlight-select;
        }
    }
    .block-highlight-yellow {
        background-color: rgba(121, 85, 72, .60);
    }
    .roam-highlight {
        background-color: #263139;
        border-radius: 2px;
        padding: 1px 3px 2px 3px;
        if using-theme {
            background-color: rgba(color-theme, .4);
            /*color: rgba(color-theme, 1.0);*/
        } else {
            background-color: color-highlight-bg;
            color: color-highlight-text;
        }
    }
    
    /* Code */
    code {
        background: #121212;
        background: rgba(18, 18, 18, 0.60);
        color: #ff5722;
        border: 1px solid #000000;
        border: 1px solid rgba(18, 18, 18, 0.87);
    }
    
    /* Blocks */
    .roam-block > span > div:not(.slider):not(.roam-table) {
        /* TODO: Figure out how to style only block embeds and not tabels, queries, etc.*/
        /*border: 1px solid rgba(255,255,255,0.25);*/
        background: rgba(255, 255, 255, 0.05) !important;
        /*
        &:hover {
            background-color: rgba(255,255,255,0.05) !important;
        }*/
    }
    .roam-block .rm-block-ref {
        border: none;
        background-color: transparent !important;
    }
    .rm-block-ref:hover {
        background-color: transparent !important;
        if using-theme {
            border-bottom: 1px solid rgba(color-theme, 1.0);
        } else {
            border-bottom: 1px solid color-link;
        }
    }
    
    /* versioning widget */
    .version-bullet {
        font-size: 12px;
        background-color: rgb(color-theme) !important;
    }
    
    /* slider widget */
    .slider {
        max-width: 250px !important;
        
        .bp3-slider-progress.bp3-intent-primary {
            background-color: rgb(color-theme) !important;
        }
    }
    
    /* term select */
    .rm-block-text select {
        background-color: rgb(43, 52, 59) !important;
        border: none;
    }
    
    /* alias styling */
    .rm-block-text > span > span:not(.roam-highlight) > span {
        color: rgb(color-theme) !important;
        background-color: rgb(43, 52, 59) !important;
    }
    
    /* sync quick capture styling */
    .rm-quick-capture-sync-modal {
        background-color: rgb(43, 52, 59) !important;
        h3.level3 {
            color: #d5d6d7 !important;
        }
        #quick-capture-history {
            > div {
                > li {
                    color: #abaeb0 !important;
                }
            }
        }
    }
    
    /* Image Drag Handle */
    .react-resizable-handle {
        background: none;
        /*clip-path: polygon(50% 0,50% 50%,0 50%);
        background: linear-gradient(135deg,#fff 0,#fff 2px);*/
        
        &:after {
            font-size: 25px;
            position: absolute;
            right: 3px;
            bottom: 3px;
            line-height: 30px;
            content: "Ë¼";
            color: rgba(255, 255, 255, 0.5) !important;
        }
    }

    /* Elements */
    .bp3-input {
        background: #FFFFFF;
        background: rgba(255, 255, 255, .05);
        color: #d9d9d9 !important;
    }
    if using-unset-overflow {
        .bp3-text-overflow-ellipsis {
            /* Credit to  @Malcolm Ocean */
            text-overflow: unset;
            white-space: unset;
        }
    }
    .bp3-elevation-3 {
        background-color: rgb(43, 52, 59) !important;
        box-shadow: 0 2px 16px 0 rgba(0,0,0,.4);
        color: #5C7080 !important;
        /* Style highlighted item in '/' menu */
        div.dont-unfocus-block {
            &:hover,
            &:focus,
            &:active {
                background-color: #1e272e !important;
            }
        }
    }
    .bp3-datepicker {
        background-color: rgb(43, 52, 59) !important;
        /*color: #5C7080 !important;*/
        color: #fff !important
    }
    .bp3-popover {
        box-shadow: 0 2px 16px 0 rgba(0,0,0,.4);
    }
    .bp3-popover-content {
        background-color: #384047 !important;
        color: #5C7080 !important;
    }
    .bp3-popover-arrow-fill {
        fill: rgb(43, 52, 59) !important;
    }
    .bp3-popover-arrow-border {
        fill: rgb(255, 255, 255) !important;
    }
    .bp3-dialog {
        background-color: rgb(43, 52, 59) !important;
        box-shadow: 0 2px 16px 0 rgba(0,0,0,.4);
        color: #5C7080 !important;
        
        textarea {
            color: #d9d9d9 !important;
            background-color: rgba(56, 64, 71, 0.8) !important;
        }
    }
    .bp3-menu {
        /*background-color: rgb(43, 52, 59) !important;*/
        background-color: rgb(56, 64, 71) !important;
        /*color: #D9D9D9 !important;*/
        color: #aeacb0;
    }
    .bp3-menu-item:hover {
        background-color: #1e272e !important;
    }
    .bp3-html-select > select {
        color: #fff
    }
    .bp3-button {
        background-color: rgba(56, 64, 71, 0.8) !important;
        background-image: none !important;
        color: #d9d9d9 !important;
        padding: 0;
    }
    .bp3-button.bp3-minimal:hover {
        background-color: rgba(56, 64, 71,.4) !important;
    }
    
    if using-clickup {
        .intercom-namespace .intercom-launcher-frame {
            bottom: 566px;
            right: 22px !important;
        }

        #buffer {
            bottom: 156px !important;
            right: 22px !important;
        }
    } else {
        .intercom-namespace .intercom-launcher-frame {
            bottom: 480px;
        }
        
        #buffer {
            bottom: 70px !important;
            right: 18px !important;
        }
    }
}
